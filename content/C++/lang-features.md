---
title: 6. C++ - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞
tags:
  - cxx
---
### Rvalue-—Å—Å—ã–ª–∫–∏
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `rvalue`-—Å—Å—ã–ª–∫–∏ —Ç–æ–ª—å–∫–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:
- –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è **move**-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏ **move-assign** –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–≤–ª—è—é—Ç `this` –≤ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º/–Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. 
- –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ **perfect-forwarding** –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å `std::forward`.

### Friend
–í –æ–±—â–µ–º —Å–ª—É—á–∞–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ "–∫–ª–∞—Å—Å–æ–≤-–¥—Ä—É–∑–µ–π", —Å –æ–¥–Ω–∏–º —É—Å–ª–æ–≤–∏–µ–º: *–∫–ª–∞—Å—Å-–¥—Ä—É–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω –≤ —Ç–æ–º –∂–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ, —á—Ç–æ –∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å.*

–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "–¥—Ä—É–∑–µ–π":
- –ü–∞—Ç—Ç–µ—Ä–Ω "*–°—Ç—Ä–æ–∏—Ç–µ–ª—å*"
- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
- –§–∞–±—Ä–∏–∫–∏ 

–ù–µ —Å—Ç–æ–∏—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º `friend` - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø—É–±–ª–∏—á–Ω—ã—Ö —á–ª–µ–Ω–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π.

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –°++.

–û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Boost` –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –°++), —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –∏—Ö –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å.

> [!help] –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
> –ï—Å–ª–∏ –∫–∞–∫–∞—è-–ª–∏–±–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø–∏—à–µ—Ç–µ, –≤—Å–µ –∂–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–æ–ø—Ä–µ–∫–∏ –≤—Å–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ–π), –æ–Ω–∞ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ `noexcept(false)`. –ù–∞—Ä—É—à–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤–∞—à–µ–≥–æ API.

##### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –º–æ–∂–µ—Ç –∏ –Ω–µ –≤–µ—Ä–Ω—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø–µ—Ä–∞—Ç–æ—Ä `[]` —É –≤–µ–∫—Ç–æ—Ä–∞), —Ç–æ –ª—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç `std::optional`:
```cpp
template <typename T>
struct Vector {
  private:
    T* m_values;
    size_t m_size;		
    
  [[nodiscard]] auto get(size_t const index) -> optional<T> {
    if(index >= this->m_size)
      return std::nullopt;
    return this->m_values[index];
  }
};
```

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è —Å –∫–∞–∫–∏–º-–ª–∏–±–æ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ, —Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `std::expected`(C++23)/`tl::expected`/`lf::types::expected`:
```cpp
auto read_file(string_view path) -> expected<string, string> {
  using lf::Err;
  if(auto const p = std::filesystem::path(path); not exists(p))
    return Err("failed to open file at {}", path);
  auto const contents = /* ... */;
  return contents;
}
```

–ï—Å–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è, —Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–µ–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
```cpp
class File {
  private:
    File();
  public:
    [[nodiscard]] static auto open() -> expected<File, string>;
};
```

###### absl::Status
–î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ `Status` –∏–∑ –æ—Ç–∫—Ä—ã—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **Abseil** –æ—Ç Google.
–ù–∞–ø—Ä–∏–º–µ—Ä:
```cpp
#include <absl/status>

class File {
  private:
    File();
  public:
    [[nodiscard]] static auto open() -> absl::StatusOr<File> {
      if(/* ... */)
        return absl::NotFoundError("bad file path");
      return absl::OkStatus(/* ... */);
    }
}
```
–ü–æ–¥—Ä–æ–±–Ω–µ–µ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–¥–µ—Å—å: [—Å—Å—ã–ª–∫–∞](https://abseil.io/docs/cpp/guides/status).
### Noexcept
–§—É–Ω–∫—Ü–∏–∏, –æ–±–æ–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∫–∞–∫ `noexcept` –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å —Ä–∞–±–æ—Ç—É *–≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã* —Å –ø–æ–º–æ—â—å—é `std::terminate`, –µ—Å–ª–∏ –ª—é–±–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–∫–∏–Ω–µ—Ç —Ç–µ–ª–æ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä:
```
auto divide(int a, int b) noexcept {
	if(b == 0)
		throw std::invalid_argument("division by zero");
	return a / b;
}

auto const a = divide(1, 0); // –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã
```
- –û–±–æ–∑–Ω–∞—á–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ `noexcept` —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ. 
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–±–æ–∑–Ω–∞—á–∞–π—Ç–µ –∫–∞–∫ `noexcept` —Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
- –ù–µ –æ–±–æ–∑–Ω–∞—á–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ `noexcept`, –µ—Å–ª–∏ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º —ç—Ç–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –∏ —Ñ—É–Ω–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—É–±–ª–∏—á–Ω–æ–≥–æ API.

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Ç–æ –µ–µ —Å–ª–µ–¥—É–µ—Ç –ø–æ–º–µ—á–∞—Ç—å –∫–∞–∫ `noexcept(false)`. –≠—Ç–æ –¥–∞—Å—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–º—É, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à–µ API, —á—Ç–æ –µ–º—É —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ—Ç–ª–∞–≤–ª–∏–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

### RTTI
**RTTI (Run-Time Type Information)** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∑–Ω–∞—Ç—å —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –∏–∑–±–µ–≥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è RTTI. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è `dynamic_cast` –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏ —Ç–∏–ø–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

–ï—Å–ª–∏ —É –≤–∞—Å –≥–¥–µ-–ª–∏–±–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `typeid` –≤ —É—Å–ª–æ–≤–∏—è—Ö/—Ü–∏–∫–ª–∞—Ö, —Ç–æ –ª–æ–≥–∏–∫–∞ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ —Å–∏–ª—å–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∞ –∏ –µ–µ —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å. –ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ –∫–æ–¥–∞:
```cpp
/* —Ç–∞–∫ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ! */
if(typeid(*ptr) == typeid(int))
  // ...
else if(typeid(*ptr) == typeid(float))
  // ...
else
  // ...
```

### –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Å—Ç—ã –≤ —Å—Ç–∏–ª–µ C++.

> [!fail] –ó–∞–º–µ—á–∞–Ω–∏–µ
> –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Å—Ç—ã –≤ —Å—Ç–∏–ª–µ –° (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –≤—ã –Ω–µ –ø–∏—à–µ—Ç–µ –Ω–∞ —á–∏—Å—Ç–æ–º C).
> –ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ –∫–æ–¥–∞: `int a = (int)M_PI`.
> –ò—Å–∫–ª—é—á–µ–Ω–∏–µ–º –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ `void`.

> [!warning] –ó–∞–º–µ—á–∞–Ω–∏–µ
> –¢–∞–∫–∂–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Å—Ç—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `int a = int(M_PI)`).

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `static_cast<T>` –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤ –∏–ª–∏ –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –∫ —É–∫–∞–∑–∞—Ç–µ–ª—é –Ω–∞ –ø–æ–¥–∫–ª–∞—Å—Å.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `const_cast<T>`, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ç–æ—Ä `const`.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `reinterpret_cast<T>` –¥–ª—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–π —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, –Ω–æ –¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `dynamic_cast<T>` –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–π –º–µ–∂–¥—É —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ –∏ –¥–æ—á–µ—Ä–Ω–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::bit_cast<T>` –¥–ª—è –ø—Ä—è–º–æ–π –ø–æ–±–∏—Ç–æ–≤–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Ç–∏–ø–æ–≤ **—Ä–∞–≤–Ω–æ–≥–æ** —Ä–∞–∑–º–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `uint64_t` –≤ `double`).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `qobject_cast<T>` —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. [Stackoverflow](https://stackoverflow.com/questions/43994584/what-is-qobject-cast)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `boost::lexical_cast<T>` –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ —Å—Ç—Ä–æ–∫—É –∏ –æ–±—Ä–∞—Ç–Ω–æ. [Boost.Org](https://www.boost.org/doc/libs/1_42_0/libs/conversion/lexical_cast.htm)

### –ü–æ—Ç–æ–∫–∏
–ö –ø–æ—Ç–æ–∫–∞–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ç–æ–∫–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –°++ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `std::cout`, `std::cerr`, `std::ifstream`, `std::stringstream`).

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ç–æ–≥–æ, –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫–∏:

| –û–ø–µ—Ä–∞—Ü–∏—è            | –ü–æ—Ç–æ–∫                                 | QT                                         | –ü—Ä–æ—á–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏                            | –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ                                                  | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ                                               |
| ------------------- | ------------------------------------- | ------------------------------------------ | -------------------------------------------- | ------------------------------------------------------------- | -------------------------------------------------------- |
| –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞        | `std::ifstream`                       | `QFile`                                    | `FILE*`, `std::FILE*`                        | ‚úÖ–ü–æ—Ç–æ–∫–∏                                                       |                                                          |
| –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª       | `std::ofstream`                       | `QFile`                                    | `FILE*`, `std::FILE*`                        | ‚úÖ–ü–æ—Ç–æ–∫–∏                                                       |                                                          |
| –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å     | `std::cout`, `std::cerr`, `std::clog` | `qDebug`, `qWarning`, `qInfo`, `qCritical` | `printf`, `perr`, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | ‚õî–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è                                  | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `spdlog` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏–ª–∏ —Ñ–∞–π–ª. |
| –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—Ç—Ä–æ–∫–µ | `std::stringstream`                   | `QString`                                  | `boost::lexical_cast`                        | ‚ùì`boost::lexical_cast`, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ |                                                          |

–ï—Å–ª–∏ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä `<<` –¥–ª—è –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∏–∑ –ø–æ—Ç–æ–∫–æ–≤ (`std::ostream`, `QDebug`), —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –≤—ã–≤–æ–¥–∏—Ç —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º—É—é —Ñ–æ—Ä–º—É –≤–∞—à–µ–≥–æ —Ç–∏–ø–∞.
> [!note] –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
> –•–æ—Ä–æ—à–∏–º —Ç–æ–Ω–æ–º –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ—Ç–æ–∫–∞, –Ω–æ –∏ `fmt::formatter` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ `fmt::format`. –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [—Å—Å—ã–ª–∫–∞](https://wgml.pl/blog/formatting-user-defined-types-fmt.html)

### –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –∏ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç/–¥–µ–∫—Ä–µ–º–µ–Ω—Ç
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é —Ñ–æ—Ä–º—É –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ –∏ –¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∞, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–∞ –∏–º–µ–Ω–Ω–æ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω–∞—è —Ñ–æ—Ä–º–∞.
–≠—Ç–æ –¥–∞–µ—Ç –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
```cpp
for(auto i = 0; i < 100; i++) /* –ø–ª–æ—Ö–æ */

for(auto i = 0; i < 100; ++i) /* —Ö–æ—Ä–æ—à–æ */
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ const
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä `const` –≤—Å–µ–≥–¥–∞, –≥–¥–µ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ: –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –±—É–¥–µ—Ç –≤—Å–µ–≥–¥–∞ –æ–±—ä—è–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞–∫ `const`, –∏ —É–±–∏—Ä–∞—Ç—å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–∑–∂–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º `const` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º–æ–≥—É—Ç —è–≤–ª—è—Ç—å—Å—è `constexpr`. –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å —Ç–∞–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ `constexpr`.

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–º, —Ç–æ –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ –µ–≥–æ –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å –±–µ–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ `const`, –∞ –≤ —Ñ–∞–π–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ - —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º:
```cpp
/* meow.h */
class Cat {
	auto meow(int a) const -> void;
}

/* meow.cc */
auto Cat::meow(int const a) const -> void { /* ... */ }
```

#### –ì–¥–µ –ø–æ–º–µ—â–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä?
–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Ñ–æ—Ä–º—ã –∑–∞–ø–∏—Å–∏ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ `const`:
`1`
```cpp
auto const i = 1;
```

`2`
```cpp
const auto i = 1;
```

–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª –æ–±–æ–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–µ–Ω. –ú—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º **–ø–µ—Ä–≤—É—é** —Ñ–æ—Ä–º—É –∑–∞–ø–∏—Å–∏, –æ–¥–Ω–∞–∫–æ —ç—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.

### –í—ã—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
–í –°++ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –æ–±–æ–∑–Ω–∞—á–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
- `constexpr` - —Ñ—É–Ω–∫—Ü–∏—è/–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –Ω–æ —ç—Ç–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è.
- `consteval` - —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ **—Ç–æ–ª—å–∫–æ** –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω–µ–º.
- `constinit` - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –Ω–µ–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–æ –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–æ—â—Ä—è–µ—Ç—Å—è –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É—Å–∫–æ—Ä–µ–Ω–∏—é —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

###### `constexpr`-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```cpp
constexpr auto PI = 3.14f;
```

```cpp
constexpr auto buffer = std::array<uint8_t, 1024>{ /* ... */ };
```

###### `constexpr`-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
```cpp
constexpr auto add(int const a, int const b) -> int { return a + b; }
```

```cpp
struct source_location {
  constexpr explicit source_location(string_view file, string_view line);
}
```

###### `consteval`-—Ñ—É–Ω–∫—Ü–∏–∏
```cpp
constexpr auto factorial(uint64_t n) -> uint64_t { 
  return n < 2 ? 1 : n * factorial(n - 1); 
}

consteval auto combination(uint64_t m, uint64_t n) -> uint64_t {
  return factorial(n) / factorial(m) / factorial(n - m);
}

// –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
static_assert(factorial(6) == 720);
static_assert(combination(4, 8) == 70);

auto main() -> int {
  std::cout << factorial(6) << std::endl;      // OK
  std::cout << combination(4, 8) << std::endl; // –û—à–∏–±–∫–∞
}
```

–ü—Ä–æ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `constinit` –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–¥–µ—Å—å: [[scoping#–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –ø–æ—Ç–æ–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ|–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –ø–æ—Ç–æ–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ]]

### –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π:
- `int`
- `char`
- `unsigned`
- `long`
- `short`
–í—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —è–≤–ª—è—é—Ç—Å—è *–ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–∑–∞–≤–∏—Å–∏–º—ã–º–∏*, –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä –∏ –∑–Ω–∞–∫–æ–≤–æ—Å—Ç—å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞—Ö.

##### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
–ü—Ä–æ—Å—Ç–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `<cstdint>`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã:
```cpp
int8_t
int16_t
int32_t
int64_t
uint8_t
uint16_t
uint32_t
uint64_t
uintptr_t
intptr_t
ptrdiff_t
size_t
```

–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ **Leaf** —Ç–∞–∫–∂–µ –µ—Å—Ç—å –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤:
```cpp
namespace leaf::types {
  using u8 = uint8_t;       ///< 8-bit –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using u16 = uint16_t;     ///< 16-bit –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using u32 = uint32_t;     ///< 32-bit –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using u64 = uint64_t;     ///< 64-bit –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using i8 = int8_t;        ///< 8-bit –∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using i16 = int16_t;      ///< 16-bit –∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using i32 = int32_t;      ///< 32-bit –∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using i64 = int64_t;      ///< 64-bit –∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ
  using usize = size_t;     ///< –ë–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ —Ä–∞–∑–º–µ—Ä–æ–º —Å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `void`
  using isize = intptr_t;   ///< –ó–Ω–∞–∫–æ–≤–æ–µ —Ü–µ–ª–æ–µ —Ä–∞–∑–º–µ—Ä–æ–º —Å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `void`
  using f32 = float;        ///< 32-bit —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–∏ÃÜ —Ç–æ—á–∫–æ–∏ÃÜ (`float`)
  using f64 = double;       ///< 64-bit —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–∏ÃÜ —Ç–æ—á–∫–æ–∏ÃÜ (`double`)
  using f128 = long double; ///< 128-bit —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (`long double`)
}
```

##### 32- –∏ 64- –±–∏—Ç–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
–í–∞—à –∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∏ –Ω–∞ 32-—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö, –∏ –Ω–∞ 64-—Ä–∞–∑—Ä—è–¥–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö.
–û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —ç—Ç–æ–π —Ü–µ–ª–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `size_t` –¥–ª—è –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `intptr_t`/`uintptr_t` –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ —Ä–∞–∑–º–µ—Ä–æ–º —Å —Ä–µ–≥–∏—Å—Ç—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (`sizeof(void)`)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ptrdiff_t` –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ (e.g. `std::distance`)

### –ú–∞–∫—Ä–æ—Å—ã
> [!caution] –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
> –ò–∑–±–µ–≥–∞–π—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞–∫—Ä–æ—Å–æ–≤. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–∞–∫—Ä–æ—Å–æ–≤ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é:
> - `inline`-—Ñ—É–Ω–∫—Ü–∏–π
> - `constexpr`/`consteval`-—Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
> - –®–∞–±–ª–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–ª–∞—Å—Å–æ–≤

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ–º –º–æ–∂–µ—Ç —è–≤–ª—è—Ç—å—Å—è:
- –ú–∞–∫—Ä–æ—Å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –≤ —Å—Ç—Ä–æ–∫—É (`stringify`-–º–∞–∫—Ä–æ—Å)
- –ú–∞–∫—Ä–æ—Å—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞/—Å–∏—Å—Ç–µ–º—ã. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞.
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã, —Ü–µ–ª—å –∫–æ—Ç–æ—Ä—ã—Ö - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (–æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, –∫–ª–∞—Å—Å–æ–≤ –∏ —Ç.–¥), –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω–∞–º–∏.

–ï—Å–ª–∏ –≤—ã –≤—Å–µ –∂–µ —Ä–µ—à–∏–ª–∏ –æ–±—ä—è–≤–∏—Ç—å –º–∞–∫—Ä–æ—Å, —Ç–æ —Å–ª–µ–¥—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –º–∞–∫—Ä–æ—Å—ã –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
- –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–∞–∫—Ä–æ—Å —Ç–∞–º, –≥–¥–µ –≤—ã –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `#undef`
- –î–∞–≤–∞–π—Ç–µ –º–∞–∫—Ä–æ—Å–∞–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –∫–æ–ª–ª–∏–∑–∏—è–º.

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
###### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```cpp
#define PI 3.14              // üòí –ø–ª–æ—Ö–æ!

constexpr auto PI = 3.14;    // üòä —Ö–æ—Ä–æ—à–æ!
```

–≠—Ç–∞ —Å–µ–∫—Ü–∏—è –±—É–¥–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º.

### –ù—É–ª–µ–≤—ã–µ —Ç–∏–ø—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `nullptr` –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –Ω—É–ª–µ–≤—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `'\0'` –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è *null-terminator–∞* –≤ —Å—Ç—Ä–æ–∫–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `std::nullopt` –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –ø—É—Å—Ç–æ–≥–æ `std::optional<T>`

> [!warning] –ó–∞–º–µ—á–∞–Ω–∏–µ
> –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `NULL` –∏–ª–∏ `0` –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –Ω—É–ª–µ–≤–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è.

### Auto
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `auto` –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –¥–æ—Å—Ç–∏—á—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ –∏, –∑–∞—á–∞—Å—Ç—É—é, –ø–∏—Å–∞—Ç—å –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è —Ç–∏–ø–∞.

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω—ã–π —Ç–∏–ø, —Ç–æ –µ–≥–æ –º–æ–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å —Ç–∞–∫:
```cpp
auto vec = std::vector<int>();

auto const object = Cat();
```

–ï—Å–ª–∏ `auto` –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç —Å–µ–±—è –Ω–µ —Å —Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä—É—é –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª—É—á–∞–µ —Å `std::vector<bool>`), —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
```cpp
auto const flags = std::vector<bool>{true, false, true, false};

auto const first_flag = static_cast<bool>(flags[0]);
auto const second_flag = bool(flags[1]);
```

–î–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `auto`:
```cpp
for(auto num : numbers) // –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é

for(auto& word : words) // –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –∏–∑–º–µ–Ω—è–µ–º–æ–π —Å—Å—ã–ª–∫–µ

for(auto const& v : values) // –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–π —Å—Å—ã–ª–∫–µ
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏–∫—É —Å—Å—ã–ª–æ–∫ –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å—Å—ã–ª–æ—á–Ω–æ–≥–æ —Ç–∏–ø–∞:
```cpp
auto vec = std::vector<int>{1, 2, 3, 4};

auto value = vec.at(0);          // –∑–Ω–∞—á–µ–Ω–∏–µ
auto& mut_ref = vec.at(1);       // –∏–∑–º–µ–Ω—è–µ–º–∞—è —Å—Å—ã–ª–∫–∞
auto const& ref = vec.at(2);     // –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞
auto* ptr = &vec.at(3);          // —É–∫–∞–∑–∞—Ç–µ–ª—å
```

### –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —è–∑—ã–∫–∞
–°–º. *[[cxx-version#–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞|–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞]]*

#### –î–∞–ª–µ–µ: [[naming|–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é]]